{"version":3,"sources":["items.json","script.js"],"names":["module","exports","_items","_interopRequireDefault","require","obj","__esModule","default","shoppingCartIcon","document","querySelector","itemListPanel","addToCartBtns","querySelectorAll","shoppingCart","JSON","parse","localStorage","getItem","updateCartIcon","length","classList","add","remove","indicator","innerText","addEventListener","e","toggle","forEach","btn","addToCart","itemId","target","dataset","itemInfo","items","find","item","id","inList","cartItem","amount","price","priceCents","push","name","color","imageColor","setItem","stringify","updateItemListPanel","innerHTML","totalPrice","temp","getElementsByTagName","clon","content","cloneNode","src","concat","toFixed","removeCartItem","appendChild","removedId","removedItem","filter"],"mappings":"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","file":"script.75da7f30.js","sourceRoot":"..","sourcesContent":["module.exports = [\n  {\n    \"id\": 1,\n    \"name\": \"Red\",\n    \"category\": \"Primary Color\",\n    \"priceCents\": 1600,\n    \"imageColor\": \"F00\"\n  },\n  {\n    \"id\": 2,\n    \"name\": \"Yellow\",\n    \"category\": \"Primary Color\",\n    \"priceCents\": 2100,\n    \"imageColor\": \"FF0\"\n  },\n  {\n    \"id\": 3,\n    \"name\": \"Blue\",\n    \"category\": \"Primary Color\",\n    \"priceCents\": 1200,\n    \"imageColor\": \"00F\"\n  },\n  {\n    \"id\": 4,\n    \"name\": \"Orange\",\n    \"category\": \"Secondary Color\",\n    \"priceCents\": 1800,\n    \"imageColor\": \"F60\"\n  },\n  {\n    \"id\": 5,\n    \"name\": \"Green\",\n    \"category\": \"Secondary Color\",\n    \"priceCents\": 1600,\n    \"imageColor\": \"0F0\"\n  },\n  {\n    \"id\": 6,\n    \"name\": \"Purple\",\n    \"category\": \"Secondary Color\",\n    \"priceCents\": 2100,\n    \"imageColor\": \"60F\"\n  },\n  {\n    \"id\": 7,\n    \"name\": \"Light Gray\",\n    \"category\": \"Grayscale\",\n    \"priceCents\": 1200,\n    \"imageColor\": \"AAA\"\n  },\n  {\n    \"id\": 8,\n    \"name\": \"Dark Gray\",\n    \"category\": \"Grayscale\",\n    \"priceCents\": 1600,\n    \"imageColor\": \"333\"\n  }\n];","// Items Database\n\nimport items from \"./items.json\";\n\n// HTML Elements\n\nexport const shoppingCartIcon = document.querySelector(\".shopping-cart-icon\");\n\nexport const itemListPanel = document.querySelector(\".item-list-panel\");\n\nexport const addToCartBtns = document.querySelectorAll(\".add-to-cart-btn\");\n\n// Shopping Cart Array\n\nexport let shoppingCart = JSON.parse(localStorage.getItem(\"shopping-cart\")) || [];\n\n// Update shopping cart icon invisibility\n\nupdateCartIcon()\n\nexport function updateCartIcon() {\n    if (!shoppingCart.length) {\n        shoppingCartIcon.classList.add(\"invisible\")\n    } else {\n        shoppingCartIcon.classList.remove(\"invisible\")\n    }\n    let indicator = shoppingCartIcon.querySelector(\".cart-icon-indicator\")\n    indicator.innerText = shoppingCart.length\n}\n\n// Click Event on \"Shopping Cart Icon\" to open \"Item List Panel\"\n\nshoppingCartIcon.addEventListener(\"click\", (e) => {\n  itemListPanel.classList.toggle(\"invisible\");\n});\n\n// Click Event on \"Add To Cart\" button\n\naddToCartBtns.forEach((btn) => {\n  btn.addEventListener(\"click\", addToCart);\n});\n\nfunction addToCart(e) {\n  let itemId = e.target.dataset.itemId;\n  let itemInfo = items.find((item) => item.id == itemId);\n  const inList = shoppingCart.find((cartItem) => cartItem.id == itemId);\n  if (inList) {\n    shoppingCart.forEach((cartItem) => {\n      if (cartItem.id == itemId) {\n        ++cartItem.amount;\n        cartItem.price = itemInfo.priceCents * cartItem.amount;\n      }\n    });\n  } else {\n    shoppingCart.push({\n      id: itemId,\n      name: itemInfo.name,\n      amount: 1,\n      price: itemInfo.priceCents,\n      color: itemInfo.imageColor\n    });\n  }\n  localStorage.setItem(\"shopping-cart\", JSON.stringify(shoppingCart));\n  updateCartIcon()\n  updateItemListPanel()\n}\n\n// Update item list panel\n\nupdateItemListPanel()\n\nfunction updateItemListPanel() {\n    itemListPanel.querySelector(\".item-container\").innerHTML = \"\"\n    let totalPrice = 0\n    shoppingCart.forEach(e => {\n        let temp = document.getElementsByTagName(\"template\")[0];\n        let clon = temp.content.cloneNode(true);\n        clon.querySelector(\"img\").src = `https://dummyimage.com/210x130/${e.color}/${e.color}`\n        clon.querySelector(\".item-name\").innerText = e.name\n        clon.querySelector(\".item-price\").innerText = `$${(e.price / 100).toFixed(2)}`\n        if (e.amount != 1 ){\n            clon.querySelector(\".item-number\").innerText = `x${e.amount}`\n        }\n        clon.querySelector(\"button.remove-cart-item\").dataset.itemId = e.id\n        clon.querySelector(\"button.remove-cart-item\").addEventListener(\"click\", removeCartItem)\n        itemListPanel.querySelector(\".item-container\").appendChild(clon)\n        totalPrice += e.price\n    })\n    itemListPanel.querySelector(\".total-price\").innerText = `$${(totalPrice / 100).toFixed(2)}`\n}\n\n// Remove Cart Item Function \n\nfunction removeCartItem(e) {\n    let removedId = e.target.dataset.itemId\n    let removedItem = shoppingCart.find(e => e.id == removedId)\n    if(removedItem.amount > 1) {\n        shoppingCart.forEach(e => e.id == removedId && --e.amount)\n    } else {\n        shoppingCart = shoppingCart.filter(e => e.id != removedId)\n    }\n    shoppingCart.forEach((cartItem) => {\n        if (cartItem.id == removedId) {\n          let itemInfo = items.find(e => e.id == removedId)  \n          cartItem.price = itemInfo.priceCents * cartItem.amount;\n        }\n    });\n    localStorage.setItem(\"shopping-cart\", JSON.stringify(shoppingCart));\n    updateCartIcon()\n    updateItemListPanel()\n}\n\n"]}