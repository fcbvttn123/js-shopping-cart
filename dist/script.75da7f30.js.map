{"version":3,"sources":["items.json","script.js"],"names":["module","exports","_items","_interopRequireDefault","require","obj","__esModule","default","shoppingCartIcon","document","querySelector","itemListPanel","addToCartBtns","querySelectorAll","shoppingCart","JSON","parse","localStorage","getItem","updateCartIcon","length","classList","add","remove","indicator","innerText","addEventListener","e","toggle","forEach","btn","addToCart","itemId","target","dataset","itemInfo","items","find","item","id","inList","cartItem","amount","price","priceCents","push","name","color","imageColor","setItem","stringify","updateItemListPanel","innerHTML","totalPrice","temp","getElementsByTagName","clon","content","cloneNode","src","concat","toFixed","removeCartItem","appendChild","removedId","removedItem","filter"],"mappings":"AAAAA,MAAM,CAACC,OAAO,GAAG,CACf;EACE,IAAI,EAAE,CAAC;EACP,MAAM,EAAE,KAAK;EACb,UAAU,EAAE,eAAe;EAC3B,YAAY,EAAE,IAAI;EAClB,YAAY,EAAE;AAChB,CAAC,EACD;ACNF,EDOI,ECPJC,EDOQ,EAAE,CAAC,CCPX,GAAAC,sBAAA,CAAAC,OAAA;AAAiC,EDQ7B,MAAM,CCRuBD,CDQrB,QAAQ,cCRaE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAFjC,EDWI,UAAU,EAAE,eAAe;EAC3B,YAAY,EAAE,IAAI;ACRtB,EDSI,YAAY,EAAE;AAChB,CAAC,EACD;ACTK,EDUH,ECVSG,EDUL,EAAE,CAAC,WCVkB,GAAAP,OAAA,CAAAO,gBAAA,GAAGC,QAAQ,CAACC,aAAa,CAAC,qBAAqB,CAAC;AAEtE,EDSH,ECTSC,IDSH,EAAE,MAAM,CCTQ,GAAAV,OAAA,CAAAU,aAAA,GAAGF,QAAQ,CAACC,aAAa,CAAC,kBAAkB,CAAC;AAEhE,EDQH,ECRSE,QDQC,EAAE,GCRU,GAAAX,OAAA,CAAAW,CDQK,YCRL,GAAGH,QAAQ,CAACI,gBAAgB,CAAC,kBAAkB,CAAC;EDStE,YAAY,EAAE,IAAI;ACPtB,EDQI,YAAY,EAAE;AAChB,CAAC,EACD;ACRK,EDSH,ECTOC,EDSH,EAAE,CAAC,OCTY,GAAAb,OAAA,CAAAa,YAAA,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,CAAC,IAAI,EAAE;EDU7E,MAAM,EAAE,QAAQ;ACRpB,EDSI,UAAU,EAAE,iBAAiB;EAC7B,YAAY,EAAE,IAAI;ACRtBC,EDSI,YAAY,ACTF,CAAC,CDSG,ACTF;ADUd,ACRK,CDQJ,EACD,MCTcA,cAAcA,CAAA,EAAG;EDU7B,ACTA,IDSI,ACTA,CAACL,CDSC,CAAC,UCTU,CAACM,MAAM,EAAE;EDU1B,ECTIZ,IDSE,EAAE,OAAO,GCTK,CAACa,SAAS,CAACC,GAAG,CAAC,WAAW,CAAC;EDU/C,ACTA,CAAC,MAAM,GDSG,EAAE,iBAAiB;EAC7B,ECTId,UDSQ,EAAE,IAAI,ACTE,CAACa,SAAS,CAACE,MAAM,CAAC,WAAW,CAAC;EDUlD,ACTA,YDSY,EAAE;AAChB,CAAC,CCTC,CDUF,GCVMC,SAAS,GAAGhB,gBAAgB,CAACE,aAAa,CAAC,sBAAsB,CAAC;EDWtE,ACVAc,IDUI,EAAE,CAAC,ECVE,CAACC,SAAS,GAAGX,YAAY,CAACM,MAAM;AAC7C,EDUI,MAAM,EAAE,QAAQ;EAChB,UAAU,EAAE,iBAAiB;ACTjC,EDUI,YAAY,EAAE,IAAI;EAClB,YAAY,EAAE;AAChB,ACVFZ,CDUG,EACD,aCXc,CAACkB,gBAAgB,CAAC,OAAO,EAAE,UAACC,CAAC,EAAK;EDY9C,ACXFhB,IDWM,EAAE,CAAC,MCXI,CAACU,SAAS,CAACO,MAAM,CAAC,WAAW,CAAC;AAC7C,CAAC,CDWG,ACXF,MDWQ,EAAE,YAAY;EACpB,UAAU,EAAE,WAAW;ACV3B,EDWI,YAAY,EAAE,IAAI;EAClB,YAAY,EAAE;AAChB,ACXFhB,CDWG,EACD,UCZW,CAACiB,OAAO,CAAC,UAACC,GAAG,EAAK;EDa3B,ACZFA,GAAG,CDYG,ACZFJ,EDYI,CAAC,aCZW,CAAC,OAAO,EAAEK,SAAS,CAAC;AAC1C,CAAC,CDYG,ACZF,MDYQ,EAAE,WAAW;ACVvB,EDWI,OCXKA,GDWK,EAAE,ICXEA,CAACJ,CAAC,EAAE,GDWK;EACvB,ACXF,IAAIK,MAAM,EDWI,CCXDL,CDWG,ACXF,CAACM,GDWK,GCXC,CAACC,OAAO,CAACF,MAAM;EDYlC,ACXF,IAAIG,QDWU,ACXF,EDWI,CCXDC,cAAK,CAACC,IAAI,CAAC,UAACC,IAAI;ADY/B,CAAC,CACF,ECbgC,OAAKA,IAAI,CAACC,EAAE,IAAIP,MAAM;EAAA,EAAC;EACtD,IAAMQ,MAAM,GAAG1B,YAAY,CAACuB,IAAI,CAAC,UAACI,QAAQ;IAAA,OAAKA,QAAQ,CAACF,EAAE,IAAIP,MAAM;EAAA,EAAC;EACrE,IAAIQ,MAAM,EAAE;IACV1B,YAAY,CAACe,OAAO,CAAC,UAACY,QAAQ,EAAK;MACjC,IAAIA,QAAQ,CAACF,EAAE,IAAIP,MAAM,EAAE;QACzB,EAAES,QAAQ,CAACC,MAAM;QACjBD,QAAQ,CAACE,KAAK,GAAGR,QAAQ,CAACS,UAAU,GAAGH,QAAQ,CAACC,MAAM;MACxD;IACF,CAAC,CAAC;EACJ,CAAC,MAAM;IACL5B,YAAY,CAAC+B,IAAI,CAAC;MAChBN,EAAE,EAAEP,MAAM;MACVc,IAAI,EAAEX,QAAQ,CAACW,IAAI;MACnBJ,MAAM,EAAE,CAAC;MACTC,KAAK,EAAER,QAAQ,CAACS,UAAU;MAC1BG,KAAK,EAAEZ,QAAQ,CAACa;IAClB,CAAC,CAAC;EACJ;EACA/B,YAAY,CAACgC,OAAO,CAAC,eAAe,EAAElC,IAAI,CAACmC,SAAS,CAACpC,YAAY,CAAC,CAAC;EACnEK,cAAc,CAAC,CAAC;EAChBgC,mBAAmB,CAAC,CAAC;AACvB;;AAEA;;AAEAA,mBAAmB,CAAC,CAAC;AAErB,SAASA,mBAAmBA,CAAA,EAAG;EAC3BxC,aAAa,CAACD,aAAa,CAAC,iBAAiB,CAAC,CAAC0C,SAAS,GAAG,EAAE;EAC7D,IAAIC,UAAU,GAAG,CAAC;EAClBvC,YAAY,CAACe,OAAO,CAAC,UAAAF,CAAC,EAAI;IACtB,IAAI2B,IAAI,GAAG7C,QAAQ,CAAC8C,oBAAoB,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IACvD,IAAIC,IAAI,GAAGF,IAAI,CAACG,OAAO,CAACC,SAAS,CAAC,IAAI,CAAC;IACvCF,IAAI,CAAC9C,aAAa,CAAC,KAAK,CAAC,CAACiD,GAAG,qCAAAC,MAAA,CAAqCjC,CAAC,CAACoB,KAAK,OAAAa,MAAA,CAAIjC,CAAC,CAACoB,KAAK,CAAE;IACtFS,IAAI,CAAC9C,aAAa,CAAC,YAAY,CAAC,CAACe,SAAS,GAAGE,CAAC,CAACmB,IAAI;IACnDU,IAAI,CAAC9C,aAAa,CAAC,aAAa,CAAC,CAACe,SAAS,OAAAmC,MAAA,CAAO,CAACjC,CAAC,CAACgB,KAAK,GAAG,GAAG,EAAEkB,OAAO,CAAC,CAAC,CAAC,CAAE;IAC9E,IAAIlC,CAAC,CAACe,MAAM,IAAI,CAAC,EAAE;MACfc,IAAI,CAAC9C,aAAa,CAAC,cAAc,CAAC,CAACe,SAAS,OAAAmC,MAAA,CAAOjC,CAAC,CAACe,MAAM,CAAE;IACjE;IACAc,IAAI,CAAC9C,aAAa,CAAC,yBAAyB,CAAC,CAACwB,OAAO,CAACF,MAAM,GAAGL,CAAC,CAACY,EAAE;IACnEiB,IAAI,CAAC9C,aAAa,CAAC,yBAAyB,CAAC,CAACgB,gBAAgB,CAAC,OAAO,EAAEoC,cAAc,CAAC;IACvFnD,aAAa,CAACD,aAAa,CAAC,iBAAiB,CAAC,CAACqD,WAAW,CAACP,IAAI,CAAC;IAChEH,UAAU,IAAI1B,CAAC,CAACgB,KAAK;EACzB,CAAC,CAAC;EACFhC,aAAa,CAACD,aAAa,CAAC,cAAc,CAAC,CAACe,SAAS,OAAAmC,MAAA,CAAO,CAACP,UAAU,GAAG,GAAG,EAAEQ,OAAO,CAAC,CAAC,CAAC,CAAE;AAC/F;;AAEA;;AAEA,SAASC,cAAcA,CAACnC,CAAC,EAAE;EACvB,IAAIqC,SAAS,GAAGrC,CAAC,CAACM,MAAM,CAACC,OAAO,CAACF,MAAM;EACvC,IAAIiC,WAAW,GAAGnD,YAAY,CAACuB,IAAI,CAAC,UAAAV,CAAC;IAAA,OAAIA,CAAC,CAACY,EAAE,IAAIyB,SAAS;EAAA,EAAC;EAC3D,IAAGC,WAAW,CAACvB,MAAM,GAAG,CAAC,EAAE;IACvB5B,YAAY,CAACe,OAAO,CAAC,UAAAF,CAAC;MAAA,OAAIA,CAAC,CAACY,EAAE,IAAIyB,SAAS,IAAI,EAAErC,CAAC,CAACe,MAAM;IAAA,EAAC;EAC9D,CAAC,MAAM;IACHzC,OAAA,CAAAa,YAAA,GAAAA,YAAY,GAAGA,YAAY,CAACoD,MAAM,CAAC,UAAAvC,CAAC;MAAA,OAAIA,CAAC,CAACY,EAAE,IAAIyB,SAAS;IAAA,EAAC;EAC9D;EACAlD,YAAY,CAACe,OAAO,CAAC,UAACY,QAAQ,EAAK;IAC/B,IAAIA,QAAQ,CAACF,EAAE,IAAIyB,SAAS,EAAE;MAC5B,IAAI7B,QAAQ,GAAGC,cAAK,CAACC,IAAI,CAAC,UAAAV,CAAC;QAAA,OAAIA,CAAC,CAACY,EAAE,IAAIyB,SAAS;MAAA,EAAC;MACjDvB,QAAQ,CAACE,KAAK,GAAGR,QAAQ,CAACS,UAAU,GAAGH,QAAQ,CAACC,MAAM;IACxD;EACJ,CAAC,CAAC;EACFzB,YAAY,CAACgC,OAAO,CAAC,eAAe,EAAElC,IAAI,CAACmC,SAAS,CAACpC,YAAY,CAAC,CAAC;EACnEK,cAAc,CAAC,CAAC;EAChBgC,mBAAmB,CAAC,CAAC;AACzB;;AAKA;;AAEE","file":"script.75da7f30.js","sourceRoot":"..","sourcesContent":["module.exports = [\r\n  {\r\n    \"id\": 1,\r\n    \"name\": \"Red\",\r\n    \"category\": \"Primary Color\",\r\n    \"priceCents\": 1600,\r\n    \"imageColor\": \"F00\"\r\n  },\r\n  {\r\n    \"id\": 2,\r\n    \"name\": \"Yellow\",\r\n    \"category\": \"Primary Color\",\r\n    \"priceCents\": 2100,\r\n    \"imageColor\": \"FF0\"\r\n  },\r\n  {\r\n    \"id\": 3,\r\n    \"name\": \"Blue\",\r\n    \"category\": \"Primary Color\",\r\n    \"priceCents\": 1200,\r\n    \"imageColor\": \"00F\"\r\n  },\r\n  {\r\n    \"id\": 4,\r\n    \"name\": \"Orange\",\r\n    \"category\": \"Secondary Color\",\r\n    \"priceCents\": 1800,\r\n    \"imageColor\": \"F60\"\r\n  },\r\n  {\r\n    \"id\": 5,\r\n    \"name\": \"Green\",\r\n    \"category\": \"Secondary Color\",\r\n    \"priceCents\": 1600,\r\n    \"imageColor\": \"0F0\"\r\n  },\r\n  {\r\n    \"id\": 6,\r\n    \"name\": \"Purple\",\r\n    \"category\": \"Secondary Color\",\r\n    \"priceCents\": 2100,\r\n    \"imageColor\": \"60F\"\r\n  },\r\n  {\r\n    \"id\": 7,\r\n    \"name\": \"Light Gray\",\r\n    \"category\": \"Grayscale\",\r\n    \"priceCents\": 1200,\r\n    \"imageColor\": \"AAA\"\r\n  },\r\n  {\r\n    \"id\": 8,\r\n    \"name\": \"Dark Gray\",\r\n    \"category\": \"Grayscale\",\r\n    \"priceCents\": 1600,\r\n    \"imageColor\": \"333\"\r\n  }\r\n];","// Items Database\r\n\r\nimport items from \"./items.json\";\r\n\r\n// HTML Elements\r\n\r\nexport const shoppingCartIcon = document.querySelector(\".shopping-cart-icon\");\r\n\r\nexport const itemListPanel = document.querySelector(\".item-list-panel\");\r\n\r\nexport const addToCartBtns = document.querySelectorAll(\".add-to-cart-btn\");\r\n\r\n// Shopping Cart Array\r\n\r\nexport let shoppingCart = JSON.parse(localStorage.getItem(\"shopping-cart\")) || [];\r\n\r\n// Update shopping cart icon invisibility\r\n\r\nupdateCartIcon()\r\n\r\nexport function updateCartIcon() {\r\n    if (!shoppingCart.length) {\r\n        shoppingCartIcon.classList.add(\"invisible\")\r\n    } else {\r\n        shoppingCartIcon.classList.remove(\"invisible\")\r\n    }\r\n    let indicator = shoppingCartIcon.querySelector(\".cart-icon-indicator\")\r\n    indicator.innerText = shoppingCart.length\r\n}\r\n\r\n// Click Event on \"Shopping Cart Icon\" to open \"Item List Panel\"\r\n\r\nshoppingCartIcon.addEventListener(\"click\", (e) => {\r\n  itemListPanel.classList.toggle(\"invisible\");\r\n});\r\n\r\n// Click Event on \"Add To Cart\" button\r\n\r\naddToCartBtns.forEach((btn) => {\r\n  btn.addEventListener(\"click\", addToCart);\r\n});\r\n\r\nfunction addToCart(e) {\r\n  let itemId = e.target.dataset.itemId;\r\n  let itemInfo = items.find((item) => item.id == itemId);\r\n  const inList = shoppingCart.find((cartItem) => cartItem.id == itemId);\r\n  if (inList) {\r\n    shoppingCart.forEach((cartItem) => {\r\n      if (cartItem.id == itemId) {\r\n        ++cartItem.amount;\r\n        cartItem.price = itemInfo.priceCents * cartItem.amount;\r\n      }\r\n    });\r\n  } else {\r\n    shoppingCart.push({\r\n      id: itemId,\r\n      name: itemInfo.name,\r\n      amount: 1,\r\n      price: itemInfo.priceCents,\r\n      color: itemInfo.imageColor\r\n    });\r\n  }\r\n  localStorage.setItem(\"shopping-cart\", JSON.stringify(shoppingCart));\r\n  updateCartIcon()\r\n  updateItemListPanel()\r\n}\r\n\r\n// Update item list panel\r\n\r\nupdateItemListPanel()\r\n\r\nfunction updateItemListPanel() {\r\n    itemListPanel.querySelector(\".item-container\").innerHTML = \"\"\r\n    let totalPrice = 0\r\n    shoppingCart.forEach(e => {\r\n        let temp = document.getElementsByTagName(\"template\")[0];\r\n        let clon = temp.content.cloneNode(true);\r\n        clon.querySelector(\"img\").src = `https://dummyimage.com/210x130/${e.color}/${e.color}`\r\n        clon.querySelector(\".item-name\").innerText = e.name\r\n        clon.querySelector(\".item-price\").innerText = `$${(e.price / 100).toFixed(2)}`\r\n        if (e.amount != 1 ){\r\n            clon.querySelector(\".item-number\").innerText = `x${e.amount}`\r\n        }\r\n        clon.querySelector(\"button.remove-cart-item\").dataset.itemId = e.id\r\n        clon.querySelector(\"button.remove-cart-item\").addEventListener(\"click\", removeCartItem)\r\n        itemListPanel.querySelector(\".item-container\").appendChild(clon)\r\n        totalPrice += e.price\r\n    })\r\n    itemListPanel.querySelector(\".total-price\").innerText = `$${(totalPrice / 100).toFixed(2)}`\r\n}\r\n\r\n// Remove Cart Item Function \r\n\r\nfunction removeCartItem(e) {\r\n    let removedId = e.target.dataset.itemId\r\n    let removedItem = shoppingCart.find(e => e.id == removedId)\r\n    if(removedItem.amount > 1) {\r\n        shoppingCart.forEach(e => e.id == removedId && --e.amount)\r\n    } else {\r\n        shoppingCart = shoppingCart.filter(e => e.id != removedId)\r\n    }\r\n    shoppingCart.forEach((cartItem) => {\r\n        if (cartItem.id == removedId) {\r\n          let itemInfo = items.find(e => e.id == removedId)  \r\n          cartItem.price = itemInfo.priceCents * cartItem.amount;\r\n        }\r\n    });\r\n    localStorage.setItem(\"shopping-cart\", JSON.stringify(shoppingCart));\r\n    updateCartIcon()\r\n    updateItemListPanel()\r\n}\r\n\r\n\r\n\r\n\r\n// New Commit\r\n\r\n  // Update itemListPanel variable up 1 level\r\n\r\n"]}